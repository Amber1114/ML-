<!--pages/transaction/list/list.wxml-->
<view class="container">
  <!-- ç­›é€‰æ  -->
  <view class="filter-bar">
    <view 
      class="filter-item {{filterType === 'all' ? 'active' : ''}}" 
      data-type="all" 
      bindtap="switchFilter"
    >
      å…¨éƒ¨
    </view>
    <view 
      class="filter-item {{filterType === 'expense' ? 'active' : ''}}" 
      data-type="expense" 
      bindtap="switchFilter"
    >
      æ”¯å‡º
    </view>
    <view 
      class="filter-item {{filterType === 'income' ? 'active' : ''}}" 
      data-type="income" 
      bindtap="switchFilter"
    >
      æ”¶å…¥
    </view>
  </view>
  
  <!-- äº¤æ˜“è®°å½•åˆ—è¡¨ -->
  <view class="transaction-list">
    <block wx:if="{{transactions.length > 0}}">
      <view wx:for="{{transactions}}" wx:key="id" class="transaction-item">
        <view class="transaction-info">
          <view class="transaction-type">
            <text class="type-icon">{{item.type === 'expense' ? 'ğŸ“¤' : 'ğŸ“¥'}}</text>
            <text class="type-text">{{item.type === 'expense' ? 'æ”¯å‡º' : 'æ”¶å…¥'}}</text>
          </view>
          <text class="category">{{item.category}}</text>
          <text class="description">{{item.description || 'æ— æè¿°'}}</text>
          <text class="date">{{item.dateFormat}}</text>
        </view>
        <text class="amount {{item.type === 'expense' ? 'expense' : 'income'}}">
          {{item.type === 'expense' ? '-' : '+'}}Â¥{{item.amount.toFixed(2)}}
        </text>
      </view>
    </block>
    <view wx:else class="empty-list">
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-text">æš‚æ— äº¤æ˜“è®°å½•</text>
      <text class="empty-hint">ç‚¹å‡»å³ä¸‹è§’æŒ‰é’®æ·»åŠ ç¬¬ä¸€æ¡è®°å½•</text>
    </view>
  </view>
  
  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{hasMore}}" class="load-more" bindtap="loadMore">
    <text>{{loading ? 'åŠ è½½ä¸­...' : 'åŠ è½½æ›´å¤š'}}</text>
  </view>
  
  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-button" bindtap="goToAdd">
    <text class="add-icon">+</text>
  </view>
</view>